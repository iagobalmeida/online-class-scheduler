{"ast":null,"code":"import connect from '../../utils/database';\nexport default (async (req, res) => {\n  // Se a requisição é do tipo POST\n  if (req.method === \"POST\") {\n    // Conecta-se ao banco de dados\n    const {\n      db\n    } = await connect();\n    const {\n      name\n    } = req.body;\n\n    if (!name) {\n      res.status(400).json({\n        message: 'Missing name'\n      });\n      return;\n    } // Executa inserção na collection \"users\"\n\n\n    const response = await db.collection(\"users\").insertOne({\n      name: \"Iago\",\n      age: 22\n    }); // Retorna na respose o JSON do response\n\n    res.status(200).json(response.ops[0]); // Se a requisição não for do tipo POST\n  } else {\n    // Retorna na respose a message\n    res.status(400).json({\n      message: name\n    });\n  }\n});","map":{"version":3,"sources":["/home/iago/Documentos/ProjetosNextJS/online-class-scheduler/pages/api/user.tsx"],"names":["connect","req","res","method","db","name","body","status","json","message","response","collection","insertOne","age","ops"],"mappings":"AACA,OAAOA,OAAP,MAAoB,sBAApB;AAMA,gBAAe,OACXC,GADW,EAEXC,GAFW,KAGI;AAEf;AACA,MAAKD,GAAG,CAACE,MAAJ,KAAe,MAApB,EAA4B;AAExB;AACA,UAAM;AAACC,MAAAA;AAAD,QAAO,MAAMJ,OAAO,EAA1B;AAEA,UAAM;AAACK,MAAAA;AAAD,QAASJ,GAAG,CAACK,IAAnB;;AAEA,QAAG,CAACD,IAAJ,EAAS;AACLH,MAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAC;AAAT,OAArB;AACA;AACH,KAVuB,CAYxB;;;AACA,UAAMC,QAAQ,GAAG,MAAMN,EAAE,CAACO,UAAH,CAAc,OAAd,EAAuBC,SAAvB,CAAiC;AACpDP,MAAAA,IAAI,EAAE,MAD8C;AAEpDQ,MAAAA,GAAG,EAAE;AAF+C,KAAjC,CAAvB,CAbwB,CAiBxB;;AACAX,IAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBE,QAAQ,CAACI,GAAT,CAAa,CAAb,CAArB,EAlBwB,CAoB5B;AACC,GArBD,MAqBK;AACD;AACAZ,IAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAEJ;AAAV,KAArB;AACH;AACJ,CA/BD","sourcesContent":["import { NextApiRequest, NextApiResponse } from 'next';\nimport connect from '../../utils/database'\n\ninterface ResponseType {\n    message: string\n}\n\nexport default async(\n    req: NextApiRequest, \n    res: NextApiResponse<ResponseType>\n):Promise<void> => {\n\n    // Se a requisição é do tipo POST\n    if ( req.method === \"POST\" ){\n\n        // Conecta-se ao banco de dados\n        const {db} = await connect();\n\n        const {name} = req.body;\n\n        if(!name){\n            res.status(400).json({message:'Missing name'});\n            return;\n        }\n\n        // Executa inserção na collection \"users\"\n        const response = await db.collection(\"users\").insertOne({\n            name: \"Iago\",\n            age: 22\n        });\n        // Retorna na respose o JSON do response\n        res.status(200).json(response.ops[0]);\n\n    // Se a requisição não for do tipo POST\n    }else{\n        // Retorna na respose a message\n        res.status(400).json({message: name});\n    }\n}"]},"metadata":{},"sourceType":"module"}