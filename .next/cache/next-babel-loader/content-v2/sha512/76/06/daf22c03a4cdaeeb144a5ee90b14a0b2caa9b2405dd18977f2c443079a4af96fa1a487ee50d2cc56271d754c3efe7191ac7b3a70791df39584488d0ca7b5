{"ast":null,"code":"import NextAuth from 'next-auth';\nimport Providers from 'next-auth/providers';\nimport connect from '../../../utils/database';\nexport default NextAuth({\n  session: {\n    jwt: true,\n    maxAge: 30 * 24 * 60 * 60\n  },\n  // Configure one or more authentication providers\n  providers: [Providers.Credentials({\n    // The name to display on the sign in form (e.g. 'Sign in with...')\n    name: '',\n    // The credentials is used to generate a suitable form on the sign in page.\n    // You can specify whatever fields you are expecting to be submitted.\n    // e.g. domain, username, password, 2FA token, etc.\n    credentials: {\n      username: {\n        label: \"Usuário\",\n        type: \"text\",\n        placeholder: \"jsmith\"\n      },\n      password: {\n        label: \"Senha\",\n        type: \"password\"\n      }\n    },\n\n    async authorize(credentials) {\n      const {\n        email,\n        password\n      } = Object.create(credentials);\n\n      if (!email || !password) {\n        return null;\n      }\n\n      const {\n        db\n      } = await connect();\n      const user = await db.collection('users').findOne({\n        email: email,\n        password: password\n      });\n      return user ? user : null;\n    }\n\n  })],\n  // A database is optional, but required to persist accounts in a database\n  database: process.env.DATABASE_URL\n});","map":{"version":3,"sources":["/home/iago/Documentos/ProjetosNextJS/online-class-scheduler/pages/api/auth/[...nextauth].ts"],"names":["NextAuth","Providers","connect","session","jwt","maxAge","providers","Credentials","name","credentials","username","label","type","placeholder","password","authorize","email","Object","create","db","user","collection","findOne","database","process","env","DATABASE_URL"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,WAArB;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AACA,OAAOC,OAAP,MAAoB,yBAApB;AAOA,eAAeF,QAAQ,CAAC;AACpBG,EAAAA,OAAO,EAAE;AACLC,IAAAA,GAAG,EAAE,IADA;AAELC,IAAAA,MAAM,EAAE,KAAK,EAAL,GAAU,EAAV,GAAe;AAFlB,GADW;AAKpB;AACAC,EAAAA,SAAS,EAAE,CACPL,SAAS,CAACM,WAAV,CAAsB;AAClB;AACAC,IAAAA,IAAI,EAAE,EAFY;AAGlB;AACA;AACA;AACAC,IAAAA,WAAW,EAAE;AACTC,MAAAA,QAAQ,EAAE;AAAEC,QAAAA,KAAK,EAAE,SAAT;AAAoBC,QAAAA,IAAI,EAAE,MAA1B;AAAkCC,QAAAA,WAAW,EAAE;AAA/C,OADD;AAETC,MAAAA,QAAQ,EAAE;AAAGH,QAAAA,KAAK,EAAE,OAAV;AAAmBC,QAAAA,IAAI,EAAE;AAAzB;AAFD,KANK;;AAUlB,UAAMG,SAAN,CAAgBN,WAAhB,EAA6B;AAEzB,YAAM;AAAEO,QAAAA,KAAF;AAASF,QAAAA;AAAT,UAAsBG,MAAM,CAACC,MAAP,CAAcT,WAAd,CAA5B;;AAEA,UAAK,CAACO,KAAD,IAAU,CAACF,QAAhB,EAA2B;AAAE,eAAO,IAAP;AAAc;;AAE3C,YAAM;AAAEK,QAAAA;AAAF,UAAW,MAAMjB,OAAO,EAA9B;AACA,YAAMkB,IAAI,GAAG,MAAMD,EAAE,CAACE,UAAH,CAAc,OAAd,EAAuBC,OAAvB,CAA+B;AAACN,QAAAA,KAAK,EAAEA,KAAR;AAAeF,QAAAA,QAAQ,EAAEA;AAAzB,OAA/B,CAAnB;AAEA,aAAOM,IAAI,GAAGA,IAAH,GAAU,IAArB;AACH;;AApBiB,GAAtB,CADO,CANS;AA8BpB;AACAG,EAAAA,QAAQ,EAAEC,OAAO,CAACC,GAAR,CAAYC;AA/BF,CAAD,CAAvB","sourcesContent":["import NextAuth from 'next-auth'\nimport Providers from 'next-auth/providers'\nimport connect from '../../../utils/database'\n\ninterface UserCredentials {\n    email: string,\n    password: string\n}\n\nexport default NextAuth({\n    session: {\n        jwt: true,\n        maxAge: 30 * 24 * 60 * 60\n    },\n    // Configure one or more authentication providers\n    providers: [\n        Providers.Credentials({\n            // The name to display on the sign in form (e.g. 'Sign in with...')\n            name: '',\n            // The credentials is used to generate a suitable form on the sign in page.\n            // You can specify whatever fields you are expecting to be submitted.\n            // e.g. domain, username, password, 2FA token, etc.\n            credentials: {\n                username: { label: \"Usuário\", type: \"text\", placeholder: \"jsmith\" },\n                password: {  label: \"Senha\", type: \"password\" }\n            },\n            async authorize(credentials) {\n\n                const { email, password } = Object.create(credentials) as UserCredentials;\n\n                if ( !email || !password ) { return null; }\n\n                const { db }   = await connect();\n                const user = await db.collection('users').findOne({email: email, password: password})\n\n                return user ? user : null;\n            }\n        })\n    ],\n    // A database is optional, but required to persist accounts in a database\n    database: process.env.DATABASE_URL,\n})"]},"metadata":{},"sourceType":"module"}